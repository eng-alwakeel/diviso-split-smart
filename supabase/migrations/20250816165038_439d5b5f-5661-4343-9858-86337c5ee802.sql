-- Fix currencies table by adding proper columns first, then updating data

-- Add country code and flag emoji columns to currencies table for better UI
ALTER TABLE public.currencies 
ADD COLUMN IF NOT EXISTS country_code TEXT,
ADD COLUMN IF NOT EXISTS flag_emoji TEXT,
ADD COLUMN IF NOT EXISTS region TEXT;

-- Clear existing currencies and add new ones with proper symbols
DELETE FROM public.currencies;

-- Insert all currencies with proper symbols and country information
INSERT INTO public.currencies (code, name, symbol, is_active, country_code, flag_emoji, region) VALUES
-- Middle East & Arab Countries
('SAR', 'ุงูุฑูุงู ุงูุณุนูุฏู', '๏ทผ', true, 'SA', '๐ธ๐ฆ', 'ุงูุดุฑู ุงูุฃูุณุท'),
('AED', 'ุงูุฏุฑูู ุงูุฅูุงุฑุงุชู', 'ุฏ.ุฅ', true, 'AE', '๐ฆ๐ช', 'ุงูุดุฑู ุงูุฃูุณุท'),
('KWD', 'ุงูุฏููุงุฑ ุงููููุชู', 'ุฏ.ู', true, 'KW', '๐ฐ๐ผ', 'ุงูุดุฑู ุงูุฃูุณุท'),
('QAR', 'ุงูุฑูุงู ุงููุทุฑู', 'ุฑ.ู', true, 'QA', '๐ถ๐ฆ', 'ุงูุดุฑู ุงูุฃูุณุท'),
('BHD', 'ุงูุฏููุงุฑ ุงูุจุญุฑููู', 'ุฏ.ุจ', true, 'BH', '๐ง๐ญ', 'ุงูุดุฑู ุงูุฃูุณุท'),
('OMR', 'ุงูุฑูุงู ุงูุนููุงูู', 'ุฑ.ุน', true, 'OM', '๐ด๐ฒ', 'ุงูุดุฑู ุงูุฃูุณุท'),
('JOD', 'ุงูุฏููุงุฑ ุงูุฃุฑุฏูู', 'ุฏ.ุฃ', true, 'JO', '๐ฏ๐ด', 'ุงูุดุฑู ุงูุฃูุณุท'),
('LBP', 'ุงูููุฑุฉ ุงููุจูุงููุฉ', 'ู.ู', true, 'LB', '๐ฑ๐ง', 'ุงูุดุฑู ุงูุฃูุณุท'),
('EGP', 'ุงูุฌููู ุงููุตุฑู', 'ุฌ.ู', true, 'EG', '๐ช๐ฌ', 'ุงูุดุฑู ุงูุฃูุณุท'),

-- Major Global Currencies
('USD', 'ุงูุฏููุงุฑ ุงูุฃูุฑููู', '$', true, 'US', '๐บ๐ธ', 'ุฃูุฑููุง ุงูุดูุงููุฉ'),
('EUR', 'ุงูููุฑู', 'โฌ', true, 'EU', '๐ช๐บ', 'ุฃูุฑูุจุง'),
('GBP', 'ุงูุฌููู ุงูุฅุณุชุฑูููู', 'ยฃ', true, 'GB', '๐ฌ๐ง', 'ุฃูุฑูุจุง'),
('JPY', 'ุงููู ุงููุงุจุงูู', 'ยฅ', true, 'JP', '๐ฏ๐ต', 'ุขุณูุง'),
('CNY', 'ุงูููุงู ุงูุตููู', 'ยฅ', true, 'CN', '๐จ๐ณ', 'ุขุณูุง'),
('INR', 'ุงูุฑูุจูุฉ ุงูููุฏูุฉ', 'โน', true, 'IN', '๐ฎ๐ณ', 'ุขุณูุง'),
('CAD', 'ุงูุฏููุงุฑ ุงูููุฏู', 'C$', true, 'CA', '๐จ๐ฆ', 'ุฃูุฑููุง ุงูุดูุงููุฉ'),
('AUD', 'ุงูุฏููุงุฑ ุงูุฃุณุชุฑุงูู', 'A$', true, 'AU', '๐ฆ๐บ', 'ุฃูููุงููุณูุง'),
('CHF', 'ุงููุฑูู ุงูุณููุณุฑู', 'CHF', true, 'CH', '๐จ๐ญ', 'ุฃูุฑูุจุง'),
('SEK', 'ุงููุฑููุง ุงูุณููุฏูุฉ', 'kr', true, 'SE', '๐ธ๐ช', 'ุฃูุฑูุจุง'),
('NOK', 'ุงููุฑููุง ุงููุฑููุฌูุฉ', 'kr', true, 'NO', '๐ณ๐ด', 'ุฃูุฑูุจุง'),
('DKK', 'ุงููุฑููุง ุงูุฏููุงุฑููุฉ', 'kr', true, 'DK', '๐ฉ๐ฐ', 'ุฃูุฑูุจุง'),

-- Asian Currencies
('KRW', 'ุงูููู ุงูููุฑู', 'โฉ', true, 'KR', '๐ฐ๐ท', 'ุขุณูุง'),
('THB', 'ุงูุจุงูุช ุงูุชุงููุงูุฏู', 'เธฟ', true, 'TH', '๐น๐ญ', 'ุขุณูุง'),
('MYR', 'ุงูุฑููุบูุช ุงููุงููุฒู', 'RM', true, 'MY', '๐ฒ๐พ', 'ุขุณูุง'),
('SGD', 'ุงูุฏููุงุฑ ุงูุณูุบุงููุฑู', 'S$', true, 'SG', '๐ธ๐ฌ', 'ุขุณูุง'),
('IDR', 'ุงูุฑูุจูุฉ ุงูุฅูุฏูููุณูุฉ', 'Rp', true, 'ID', '๐ฎ๐ฉ', 'ุขุณูุง'),
('PHP', 'ุงูุจูุฒู ุงูููุจููู', 'โฑ', true, 'PH', '๐ต๐ญ', 'ุขุณูุง'),
('VND', 'ุงูุฏููุบ ุงูููุชูุงูู', 'โซ', true, 'VN', '๐ป๐ณ', 'ุขุณูุง'),
('PKR', 'ุงูุฑูุจูุฉ ุงูุจุงูุณุชุงููุฉ', 'โจ', true, 'PK', '๐ต๐ฐ', 'ุขุณูุง'),

-- African Currencies
('ZAR', 'ุงูุฑุงูุฏ ุงูุฌููุจ ุฃูุฑููู', 'R', true, 'ZA', '๐ฟ๐ฆ', 'ุฃูุฑูููุง'),
('NGN', 'ุงููุงูุฑุง ุงูููุฌูุฑูุฉ', 'โฆ', true, 'NG', '๐ณ๐ฌ', 'ุฃูุฑูููุง'),
('MAD', 'ุงูุฏุฑูู ุงููุบุฑุจู', 'ุฏ.ู', true, 'MA', '๐ฒ๐ฆ', 'ุฃูุฑูููุง'),
('TND', 'ุงูุฏููุงุฑ ุงูุชููุณู', 'ุฏ.ุช', true, 'TN', '๐น๐ณ', 'ุฃูุฑูููุง'),

-- American Currencies
('BRL', 'ุงูุฑูุงู ุงูุจุฑุงุฒููู', 'R$', true, 'BR', '๐ง๐ท', 'ุฃูุฑููุง ุงูุฌููุจูุฉ'),
('MXN', 'ุงูุจูุฒู ุงูููุณููู', '$', true, 'MX', '๐ฒ๐ฝ', 'ุฃูุฑููุง ุงูุดูุงููุฉ'),

-- Other Notable Currencies
('RUB', 'ุงูุฑูุจู ุงูุฑูุณู', 'โฝ', true, 'RU', '๐ท๐บ', 'ุฃูุฑูุจุง/ุขุณูุง'),
('TRY', 'ุงูููุฑุฉ ุงูุชุฑููุฉ', 'โบ', true, 'TR', '๐น๐ท', 'ุงูุดุฑู ุงูุฃูุณุท');