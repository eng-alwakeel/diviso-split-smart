

# ุฎุทุฉ: ุชุญุณูู ุชุฌุฑุจุฉ ุงูุดูุฑ ูุงูุชุฑุญูุจ + ูุตูุต ุงูุณููุงุฑูููุงุช ูู ุตูุญุฉ /launch

## ุงููุฏู
ุชุญุณูู ุชุฌุฑุจุฉ ุงูุฏุฎูู ูู ุงูุฑูุงุจุท ุงููุดุชุฑูุฉ ุนุจุฑ:
1. ุฅุถุงูุฉ ุชุฑุญูุจ ุฐูู ูุตูุฑ ูุจู ุงูุชูุงุนู
2. ุถุจุท ูุตูุต ูุฎุตุตุฉ ููู ุณููุงุฑูู
3. ุชุญุณูู ุนุฑุถ ุงููุนุงููุฉ (Share Preview / OG)

---

## ุงููุถุน ุงูุญุงูู

| ุงูุนูุตุฑ | ุงูุญุงูุฉ |
|--------|--------|
| DemoExperience ุชูุงุนูู (ุชุบููุฑ ุงููุจูุบ + ุงูุฏุงูุน) | โ ููุฌูุฏ ููุนูู |
| `hasInteracted` state | โ ููุฌูุฏ (ุณุทุฑ 35) |
| ุฅุนุงุฏุฉ ุญุณุงุจ ุงูุฃุฑุตุฏุฉ ููุฑุงู | โ ููุฌูุฏ |
| **ุฑุณุงูุฉ ุชุฑุญูุจ** | โ ุบูุฑ ููุฌูุฏ |
| **ูุตูุต ูุฎุตุตุฉ ููุณููุงุฑูููุงุช** | โ ุบูุฑ ููุฌูุฏ |
| **OG Tags ุฏููุงููููุฉ ุญุณุจ ?demo=** | โ ุฌุฒุฆูุงู (ุซุงุจุช ููู /launch) |
| **ูุตูุต ุดูุฑ ูุฎุตุตุฉ** | โ ุฑุณุงูุฉ ูุงุญุฏุฉ ุซุงุจุชุฉ |

---

## ุงููููุงุช ุงููุทููุจ ุชุนุฏูููุง

| ุงูููู | ุงูุชุนุฏูู |
|-------|---------|
| `src/data/demoScenarios.ts` | ุฅุถุงูุฉ `shareText` ููู ุณููุงุฑูู |
| `src/components/launch/DemoExperience.tsx` | ุฅุถุงูุฉ ุฑุณุงูุฉ ุงูุชุฑุญูุจ + Pulse effect |
| `src/lib/share.ts` | ุงุณุชุฎุฏุงู ูุต ุงูุดูุฑ ุงููุฎุตุต ููู ุณููุงุฑูู |
| `supabase/functions/og-handler/index.ts` | ุฏุนู OG Tags ุฏููุงููููุฉ ุญุณุจ `?demo=` |

---

## 1. ุชุนุฏูู `demoScenarios.ts`

### A) ุฅุถุงูุฉ `shareText` ููู Interface

```typescript
export interface DemoScenario {
  id: ScenarioType;
  icon: string;
  title: string;
  subtitle: string;
  groupName: string;
  currency: string;
  members: DemoMember[];
  expenses: DemoExpense[];
  tier: 'primary' | 'secondary';
  shareText: string;  // โ ุฌุฏูุฏ
}
```

### B) ุฅุถุงูุฉ ูุตูุต ูุฎุตุตุฉ ููู ุณููุงุฑูู

| ุงูุณููุงุฑูู | ุงููุต |
|-----------|------|
| `travel` | ูุณุงูุฑูู ูุน ุจุนุถุ ุฏุงูู ูุงุญุฏ ูุฏูุน ุฃูุซุฑ ๐ Diviso ููุณู ุงููุตุงุฑูู ุจุนุฏู ููุทูุน ููู ูุงุญุฏ ูู ุฃู ุนููู. |
| `friends` | ุทูุนุฉ ูุทุนูุ ูููุฉุ ุจูุฒููุ Diviso ูุฎูู ุงููุณูุฉ ูุงุถุญุฉ ุจุฏูู ููุงุด. |
| `housing` | ุฅูุฌุงุฑุ ููุฑุจุงุกุ ูุดุชุฑูุงุชุ Diviso ููุธู ุงูุณูู ุงููุดุชุฑู ุจุนุฏู. |
| `activities` | ูุดุงุท ุฌูุงุนู = ูุตุงุฑูู ุฌูุงุนูุฉ. Diviso ููุณููุง ุจุณูููุฉ. |
| `desert` | ุฑุญูุฉ ุจุฑุ ุฃูู ูุจูุฒูู ููุณุชูุฒูุงุช. Diviso ูุญุณุจูุง ุนูููู ุจุฏูู ูุฎุจุทุฉ. |
| `groups` | ุฃู ูุฌููุนุฉ ูููุง ุฃูุซุฑ ูู ุดุฎุต. Diviso ูุฎูู ุงูุญุณุงุจ ุนุงุฏู ููุฌููุน. |
| `family` | ูุตุงุฑูู ุนุงุฆููุฉุ Diviso ูุฎูู ูู ุดูุก ูุงุถุญ ููุฑุชุงุญ. |
| `carpool` | ูุดูุงุฑ ูุจูุฒูู ููููุฉุ Diviso ููุณููุง ุจุณูููุฉ. |
| `events` | ููุงุณุจุฉ ุฃู ุนุฒููุฉุ Diviso ูุทูุน ุงููุณูุฉ ุตุญ ูู ุฃูู ูุฑุฉ. |

### C) ุฅุถุงูุฉ ูุต ุงูุชุฑุงุถู ูุตูุญุฉ ุงูุงุฎุชูุงุฑ

```typescript
export const DEFAULT_SHARE_TEXT = 'ุฃู ูุดุงุฑูุฉ ูููุง ุฃูุซุฑ ูู ุดุฎุต. Diviso ููุธู ุงููุตุงุฑูู ุจุฏูู ุฅุญุฑุงุฌ.';
```

---

## 2. ุชุนุฏูู `DemoExperience.tsx`

### A) ุฅุถุงูุฉ import ูู `cn`

```typescript
import { cn } from '@/lib/utils';
```

### B) ุฅุถุงูุฉ ุฑุณุงูุฉ ุงูุชุฑุญูุจ

**ุงูููุงู:** ุจุนุฏ ูุณู ุงูุฃุนุถุงุก (ุณุทุฑ 215) ููุจู ูุณู ุงููุตุงุฑูู (ุณุทุฑ 217)

```typescript
{/* Welcome Message - Disappears after first interaction */}
{!hasInteracted && (
  <div className="text-center py-4 px-4 bg-primary/5 border border-primary/20 rounded-xl animate-in fade-in duration-500">
    <p className="text-sm text-muted-foreground leading-relaxed">
      ุฃูููุง ๐
      <br />
      ุฌุฑูุจ ุชุบููุฑ ููู ุฏูุน ุฃู ุงููุจูุบ
      <br />
      ูุดูู ุงููุณูุฉ ุชุชุนุฏู ูุจุงุดุฑุฉ
    </p>
  </div>
)}
```

### C) ุฅุถุงูุฉ Pulse effect ุนูู ุฃูู dropdown

ุชุนุฏูู ุงูู select ูู ุณุทุฑ 238-251:

```typescript
<select
  value={expense.paidById}
  onChange={(e) => handlePayerChange(expense.id, e.target.value)}
  className={cn(
    "text-sm bg-muted/50 border border-border rounded-md px-2 py-1",
    "text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",
    "cursor-pointer transition-all duration-200",
    !hasInteracted && expense.id === expenses[0]?.id && "animate-pulse ring-2 ring-primary/30"
  )}
  dir="rtl"
>
```

---

## 3. ุชุนุฏูู `share.ts`

### A) ุงุณุชูุฑุงุฏ ุงูู helper

```typescript
import { getScenarioById, DEFAULT_SHARE_TEXT, type ScenarioType } from '@/data/demoScenarios';
```

### B) ุชุญุฏูุซ ุฏุงูุฉ getShareText

```typescript
export function getShareMessage(type: ScenarioType): string {
  const scenario = getScenarioById(type);
  return scenario?.shareText || DEFAULT_SHARE_TEXT;
}
```

### C) ุชุญุฏูุซ shareExperience

```typescript
export async function shareExperience(type: ScenarioType): Promise<ShareResult> {
  const url = buildShareUrl(type, 'social');
  const scenario = getScenarioById(type);
  const text = scenario?.shareText || DEFAULT_SHARE_TEXT;

  if (navigator.share) {
    try {
      await navigator.share({
        title: 'Diviso โ ุงููุณูุฉ ุจุฏูู ุฅุญุฑุงุฌ',
        text: text,
        url: url,
      });
      return { success: true, method: 'native' };
    } catch (error) {
      // ...
    }
  }
  // ...
}
```

---

## 4. ุชุนุฏูู `og-handler/index.ts`

### A) ุฅุถุงูุฉ metadata ููู ุณููุงุฑูู

```typescript
const scenarioMetadata: Record<string, { title: string; description: string }> = {
  travel: {
    title: 'ูุณุงูุฑูู ูุน ุจุนุถุ',
    description: 'ุฏุงูู ูุงุญุฏ ูุฏูุน ุฃูุซุฑ ๐ Diviso ููุณู ุงููุตุงุฑูู ุจุนุฏู ููุทูุน ููู ูุงุญุฏ ูู ุฃู ุนููู.',
  },
  friends: {
    title: 'ุทูุนุฉ ูุทุนูุ ูููุฉุ ุจูุฒููุ',
    description: 'Diviso ูุฎูู ุงููุณูุฉ ูุงุถุญุฉ ุจุฏูู ููุงุด.',
  },
  housing: {
    title: 'ุฅูุฌุงุฑุ ููุฑุจุงุกุ ูุดุชุฑูุงุชุ',
    description: 'Diviso ููุธู ุงูุณูู ุงููุดุชุฑู ุจุนุฏู.',
  },
  activities: {
    title: 'ูุดุงุท ุฌูุงุนู = ูุตุงุฑูู ุฌูุงุนูุฉ',
    description: 'Diviso ููุณููุง ุจุณูููุฉ.',
  },
  desert: {
    title: 'ุฑุญูุฉ ุจุฑุ',
    description: 'ุฃูู ูุจูุฒูู ููุณุชูุฒูุงุช. Diviso ูุญุณุจูุง ุนูููู ุจุฏูู ูุฎุจุทุฉ.',
  },
  groups: {
    title: 'ุฃู ูุฌููุนุฉ ูููุง ุฃูุซุฑ ูู ุดุฎุต',
    description: 'Diviso ูุฎูู ุงูุญุณุงุจ ุนุงุฏู ููุฌููุน.',
  },
  family: {
    title: 'ูุตุงุฑูู ุนุงุฆููุฉุ',
    description: 'Diviso ูุฎูู ูู ุดูุก ูุงุถุญ ููุฑุชุงุญ.',
  },
  carpool: {
    title: 'ูุดูุงุฑ ูุจูุฒูู ููููุฉุ',
    description: 'Diviso ููุณููุง ุจุณูููุฉ.',
  },
  events: {
    title: 'ููุงุณุจุฉ ุฃู ุนุฒููุฉุ',
    description: 'Diviso ูุทูุน ุงููุณูุฉ ุตุญ ูู ุฃูู ูุฑุฉ.',
  },
};
```

### B) ุชุญุฏูุซ ุฏุงูุฉ generateOgHtml

```typescript
function generateOgHtml(path: string, fullUrl: string, demoType?: string): string {
  let metadata = pageMetadata[path] || {
    title: 'Diviso | ูุณูู ุจุฐูุงุกุ ุณุงูุฑ ุจุฑุงุญุฉ',
    description: 'ูุณูู ุงููุตุงุฑูู ุจูู ุงูุฃุตุฏูุงุก ูุงูุนุงุฆูุฉ ุจุณูููุฉ',
  };

  // Override with scenario-specific metadata if ?demo= exists
  if (path === '/launch' && demoType && scenarioMetadata[demoType]) {
    metadata = {
      ...metadata,
      title: scenarioMetadata[demoType].title,
      description: scenarioMetadata[demoType].description,
    };
  }

  // ... rest of the function
}
```

### C) ุชูุฑูุฑ demo parameter

```typescript
// ูู Deno.serve
const demoParam = url.searchParams.get('demo') || undefined;

// ุนูุฏ ุงุณุชุฏุนุงุก generateOgHtml
const html = generateOgHtml(path, fullUrl, demoParam);
```

---

## ุดูู ุงูู UI ุงูููุงุฆู

```text
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ [X]       โ๏ธ ุฑุญูุฉ ุชุฑููุง           [   ]    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                             โ
โ ๐ฅ ุงูุฃุนุถุงุก                                  โ
โ [ุฃุญูุฏ] [ุณุงุฑุฉ] [ูุญูุฏ] [ููุฑุฉ]                 โ
โ                                             โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ           ุฃูููุง ๐                      โ โ
โ โ   ุฌุฑูุจ ุชุบููุฑ ููู ุฏูุน ุฃู ุงููุจูุบ          โ โ
โ โ   ูุดูู ุงููุณูุฉ ุชุชุนุฏู ูุจุงุดุฑุฉ              โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                             โ
โ ๐ ุงููุตุงุฑูู                                 โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ ๐จ ุญุฌุฒ ุงูููุฏู                           โ โ
โ โ ุฏูุนูุง: [ุฃุญูุฏ โผ] โ (pulse ุฎููู)          โ โ
โ โ              [โ] 2,400 ุฑ.ุณ [+]          โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ุณููู ุงูุชุฑุญูุจ

| ุงูุญุงูุฉ | ุงูุฑุณุงูุฉ | Pulse |
|--------|---------|-------|
| ูุจู ุฃู ุชูุงุนู | โ ุธุงูุฑุฉ | โ ูุนูู |
| ุจุนุฏ ุฃูู ุชูุงุนู (ูุจูุบ/ุฏุงูุน) | โ ุชุฎุชูู | โ ูุชููู |
| ูุง ูุนูุฏ ููุธููุฑ ูู ููุณ ุงูุฌูุณุฉ | โ | โ |

---

## Share Preview ุญุณุจ ุงูุณููุงุฑูู

| ุงูุฑุงุจุท | ุงูุนููุงู | ุงููุตู |
|--------|---------|-------|
| `/launch?demo=travel` | ูุณุงูุฑูู ูุน ุจุนุถุ | ุฏุงูู ูุงุญุฏ ูุฏูุน ุฃูุซุฑ ๐... |
| `/launch?demo=friends` | ุทูุนุฉ ูุทุนูุ ูููุฉุ ุจูุฒููุ | Diviso ูุฎูู ุงููุณูุฉ ูุงุถุญุฉ... |
| `/launch?demo=housing` | ุฅูุฌุงุฑุ ููุฑุจุงุกุ ูุดุชุฑูุงุชุ | Diviso ููุธู ุงูุณูู... |
| `/launch` (ุจุฏูู demo) | ุงููุณูุฉ ุฏุงูููุง ุชูุฎุจุทุ | ุชุทุจูู ุจุณูุท ูุฎูู ุงููุณูุฉ... |

---

## ูุนุงููุฑ ุงููุจูู

| # | ุงููุนูุงุฑ |
|---|---------|
| 1 | ุฑุณุงูุฉ ุงูุชุฑุญูุจ ุชุธูุฑ ููุฑ ูุชุญ ุฃู ุชุฌุฑุจุฉ โ |
| 2 | ุงูุชุฑุญูุจ ูุฎุชูู ุนูุฏ ุฃูู ุชูุงุนู โ |
| 3 | Pulse ุฎููู ุนูู ุฃูู dropdown โ |
| 4 | ูู ุณููุงุฑูู ูู ูุต ุดูุฑ ูุฎุตุต โ |
| 5 | OG Tags ุชุชุบูุฑ ุญุณุจ ?demo= โ |
| 6 | ูุง Modal ููุง ุฒุฑ ููุง ุดุงุดุฉ ุฅุถุงููุฉ โ |
| 7 | ูุง ุชุฃุซูุฑ ุนูู CTA ุฃู ุงูุชุญููู โ |

---

## ููุฎุต ุงูุชุบููุฑุงุช

| ุงูููู | ุงูุฃุณุทุฑ | ุงูุชุนููุฏ |
|-------|--------|---------|
| `demoScenarios.ts` | ~20 ุณุทุฑ ุชุนุฏูู | ุจุณูุท |
| `DemoExperience.tsx` | ~15 ุณุทุฑ ุฅุถุงูุฉ | ุจุณูุท |
| `share.ts` | ~10 ุณุทุฑ ุชุนุฏูู | ุจุณูุท |
| `og-handler/index.ts` | ~40 ุณุทุฑ ุฅุถุงูุฉ | ูุชูุณุท |

**ุงูููุช ุงููุชููุน ููุชูููุฐ:** 15-20 ุฏูููุฉ

